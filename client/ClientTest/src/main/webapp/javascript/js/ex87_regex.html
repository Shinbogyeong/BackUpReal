<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- ex87_regex.html -->
    <h1>JavaScript + 정규표현식</h1>
    <textarea  id="txt" cols="80" rows="10">미투 운동이 전세계적으로 벌어질 때 많은 이들이 품었던 의문이다. 2017년 저널리스트 미토 시오리가 최초로 실명을 공개하고 기자에게 성폭력을 당했다고 폭로했지만 오히려 각종 협박과 2차 가해로 영국으로 피신했을 정도였다. 폭로 자체도 어렵고 폭로 이후 피해자를 괴롭히는 사회분위기가 원인이라는 지적이다. 성폭행 사건의 경우, 피해자가 ‘명백한 저항·반항 의사를 보이지 않았다’는 독소조항이 무죄의 근거가 되는데, 우리도 마찬가지다.

        일본 특파원을 지낸 ‘일본통’으로 알려진 유영수씨는 ‘일본이 선진국이라는 착각’(휴머니스트)을 통해, 한국과 일본이 비슷한 문제를 갖는 이유는 뿌리가 같기 때문이라며, 바로 그 중심에 가부장적 메이지 형법이 있다고 지적한다. 현재 강간을 인정하는 통설과 대법원 판례의 기준, ‘최협의설’의 시작이 바로 독일 법 해석론을 잘못 들여온 일본 법학자 마키노 에이이치 교수로, 이것이 일제강점기 조선 법률가들을 거쳐 현재까지 굳어졌다는 설명이다.
        
        저자는 일본의 의식과 제도가 이젠 선진국이라고 볼 수 없을 정도로 뒤쳐진 현실을 조목조목 드러내는데, 한국의 현실과 겹쳐지는 것들이 많다.
        
        특히 일본의 경제모델과 여성의 사회진출이 연결돼 있다는 지적은 눈길을 끈다. 일본은 고도성장기 기업이 고용을 책임짐으로써 국민이 안정적인 경제생활을 영위하는 ‘샐러리맨+전업주부’모델을 만들었다. 여성이 가족돌봄을 대신하는 사회복지 모델을 010-2222-2222 만들었으나 저성장기, 기업이 더는 고용을 책임지지 못하자 여성들이 생계전선에 나서면서 저임금 파트타임 노동자로 전락, 가족 돌봄까지 책임지는 이중 부담을 지게됐다는 지적이다. ‘여성과 아이가 살기 좋은 나라’의 고도성장기 환상이 깨졌음에도 시대착오적 가부장제는 여전하다는 것이다.
        
        ‘82년생 김지영’이 일본에서 베스트셀러가 되고, 일본 애니메이션 원작 만화 ‘귀멸의 칼날’이 한국에서 베스트셀러가 되는 한일간 문화동조현상은 이웃한 지리적 요인 뿐만 아니라 깊은 문화적 뿌리가 같기 때문으로 보인다.
        
        ‘귀멸의 칼날’은 일본 내에서 각종 사회현상을 불러일으켰다. 그 중 하나가 ‘키메하라’다. '귀멸의 칼날 괴롭힘'쯤으로 풀이되는데, 이 영화를 보도록 재촉하고,찬사를 보내지 않거나 관심없는 사람들을 이상하게 여기고 따돌림까지 하는 분위기를 뜻한다. 010-1234-1234 저자는 이를 사회동조압력, 일본인의 집단주의 성향으로 해석한다.
        
        이런 집단주의 이면에 일본인 특유의 개인주의 성향도 연구 대상이다. 저자는 일본인 특유의 타인에 대한 무관심과 간섭 배제로 설명되는 개인주의는 집단에 해가 되지 않는 선에서의 개인주의라고 지적한다. 공적인 매뉴얼을 따라야 할 게 너무 많기 때문에 사적인 시간만큼은 방해받고 싶지 않은 욕구가 개인주의로 나타난다는 것이다. 이를 저자는 ‘가처분 시간’으로 해석한다. 일본의 개인주의는 자유롭고 독립적인 개인과는 성격이 다르다는 얘기다.
        
        저자는 정치적이지 않은 시민단체 등 일본 정치의 특성을 들여다보며, 2020년 배우 심은경이 영화 ‘신문기자’로 일본 아카데미상 을 거머쥔 것도 눈여겨본다. 당시 아베 현 총리의 학원 스캔들을 다룬 이 영화의 주인공이 심은경에게 간 것은 어렵지 않게 추측이 가능하다. 일본 배우 아무도 배역을 맡으려 하지 않았기 때문이다.
        
        저자는 코로나 팬데믹 상황에서 우왕좌왕하는 의료선진국이라는 일본, 관피아와 혁신 부재, 열악한 노동조건으로 무너진 ‘일본주식회사’, 창작영화의 소멸 등 일본사회의 현실과 역사적 배경을 조목조목 짚었다. 여기서 한 발 나가 우리의 롤 모델, 참고사회였던 일본을 통해 우리를 돌아볼 것을 제안한다.</textarea>

    <input type="button" value="버튼" id="btn1"> 

    <h1>입력</h1>
    <form method="GET" action="ex87.jsp">
        <div>이름:<input type="text" name="name" pattern="[가-힣]{2,5}" required> 필수 + 한글(2~5)</div>
        <div>나이:<input type="text" name="age" pattern="[0-9]{1,2}" required> 필수 + 숫자</div>
        <div>나이:<input type="number" name="age"> 필수 + 숫자</div>
        <div><input type="submit" valur="등록하기"></div>
    </form>

    <script>

        var txt = document.getElementById('txt');
        var btn1 = document.getElementById('btn1');
        btn1.onclick = function() {

            // 정규 표현식
            // 1. 생성자 함수 사용
            // 2. 리터럴 표기법 사용

            //정규 표현식 객체 메소드
            //1. boolean test()
            //2. array exec() //1개만 찾음 잘안씀
            //3. array match() //여러개찾음
            //4. string replace()
            //5. array split()

            //- g(global): 전역탐색(N회)
            var regex = new RegExp('[0-9]{3}-[0-9]{3,4}-[0-9]{4}', 'g'); //정규식 객체를 만들어주는 생성자 함수
            // var regex = /[0-9]{3}-[0-9]{3,4}-[0-9]{4}/g

            console.log(regex.test(txt.value));

            // console.log(regex.exec(txt.value));
            // var result = regex.exec(txt.value);
            // console.log(result.length);

            var result = txt.value.match(regex);
            console.log(result.length)

            result.forEach(function(item){
                console.log(item);
            })

            console.log('------------');
        };
        var str = '홍길동님 안녕하세요. 반갑습니다. 홍길동님';

        // console.log(str.replace('홍길동', '아무개'));//1개
        console.log(str.replace(/홍길동/g, '아무개'));//여러개


        var str = 'Hello Java~ Hi Java';
        
        console.log(str.replace(/Java/g, '자바')); // /이게 정규표현식으로만드는거

        //g(global), i(insensitive)
        console.log(str.replace(/Java/gi, '자바'));

        // str = '홍길동,아무개,하하하,호호호,후후후';
        // str = '홍길동,아무개;하하하!호호호,후후후';
        // str = '홍길동, 아무개,하하하 ,호호호,후후후';
        str = '홍길동,          아무개,하하하          ,호호호,후후후';

        // \s는 스페이스
        console.log(str.split(','));
        console.log(str.split(/[,;!]/));
        console.log(str.split(/\s?,\s?/));
        console.log(str.split(/\s*,\s*/));
    </script>
</body>
</html>